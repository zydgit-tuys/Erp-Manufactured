| CREATE TABLE accounting_periods (
  reopened_at timestamp with time zone,
  closed_by uuid,
  closed_at timestamp with time zone,
  status USER-DEFINED,
  fiscal_year integer,
  end_date date,
  start_date date,
  period_code character varying,
  id uuid,
  company_id uuid,
  name character varying,
  created_by uuid,
  created_at timestamp with time zone,
  reopened_by uuid
);                                                                                                                                                                                                                                                                                                 |
| CREATE TABLE ap_aging_vw (
  total_amount numeric,
  amount_outstanding numeric,
  aging_bucket text,
  days_overdue integer,
  invoice_number character varying,
  vendor_name character varying,
  vendor_code character varying,
  company_id uuid,
  vendor_id uuid,
  invoice_id uuid,
  invoice_date date,
  due_date date,
  amount_paid numeric
);                                                                                                                                                                                                                                                                                                                                   |
| CREATE TABLE ar_aging_vw (
  invoice_number character varying,
  company_id uuid,
  invoice_date date,
  due_date date,
  total_amount numeric,
  amount_paid numeric,
  amount_due numeric,
  days_overdue integer,
  aging_bucket_order integer,
  invoice_id uuid,
  customer_id uuid,
  aging_bucket text,
  customer_name character varying
);                                                                                                                                                                                                                                                                                                                                          |
| CREATE TABLE ar_payment_allocations (
  created_by uuid,
  created_at timestamp with time zone,
  amount_allocated numeric,
  invoice_id uuid,
  payment_id uuid,
  id uuid,
  notes text
);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| CREATE TABLE ar_payment_summary_vw (
  customer_id uuid,
  amount_received numeric,
  amount_allocated numeric,
  amount_unallocated numeric,
  invoice_count bigint,
  allocation_status text,
  reference_number character varying,
  payment_number character varying,
  customer_name character varying,
  payment_method character varying,
  id uuid,
  company_id uuid,
  payment_date date
);                                                                                                                                                                                                                                                                                        |
| CREATE TABLE ar_payments (
  customer_id uuid,
  payment_date date,
  company_id uuid,
  id uuid,
  notes text,
  payment_number character varying,
  payment_method character varying,
  bank_account character varying,
  reference_number character varying,
  created_by uuid,
  created_at timestamp with time zone,
  discount_taken numeric,
  amount_unallocated numeric,
  amount_allocated numeric,
  amount_received numeric,
  period_id uuid
);                                                                                                                                                                                                                                 |
| CREATE TABLE audit_log (
  ip_address inet,
  session_id text,
  user_agent text,
  changed_fields ARRAY,
  table_name character varying,
  changed_at timestamp with time zone,
  changed_by uuid,
  new_values jsonb,
  old_values jsonb,
  operation USER-DEFINED,
  record_id uuid,
  company_id uuid,
  id uuid
);                                                                                                                                                                                                                                                                                                                                                                      |
| CREATE TABLE bins (
  name character varying,
  aisle character varying,
  rack character varying,
  level character varying,
  created_by uuid,
  created_at timestamp with time zone,
  is_active boolean,
  id uuid,
  warehouse_id uuid,
  code character varying
);                                                                                                                                                                                                                                                                                                                                                                                                                     |
| CREATE TABLE bom_headers (
  yield_percentage numeric,
  effective_from date,
  effective_to date,
  is_active boolean,
  base_qty numeric,
  product_id uuid,
  created_at timestamp with time zone,
  notes text,
  version character varying,
  updated_at timestamp with time zone,
  created_by uuid,
  id uuid,
  company_id uuid
);                                                                                                                                                                                                                                                                                                                                                   |
| CREATE TABLE bom_lines (
  id uuid,
  stage USER-DEFINED,
  scrap_percentage numeric,
  uom USER-DEFINED,
  qty_per numeric,
  component_product_id uuid,
  material_id uuid,
  line_number integer,
  bom_id uuid,
  notes text
);                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| CREATE TABLE bom_summary_vw (
  material_count bigint,
  version character varying,
  base_qty numeric,
  product_name character varying,
  component_count bigint,
  is_active boolean,
  subassembly_count bigint,
  product_code character varying,
  yield_percentage numeric,
  id uuid,
  company_id uuid
);                                                                                                                                                                                                                                                                                                                                                                           |
| CREATE TABLE chart_of_accounts (
  is_system boolean,
  created_by uuid,
  updated_at timestamp with time zone,
  normal_balance character varying,
  account_name character varying,
  account_code character varying,
  description text,
  id uuid,
  company_id uuid,
  account_type USER-DEFINED,
  account_category USER-DEFINED,
  parent_account_id uuid,
  level integer,
  is_header boolean,
  is_active boolean,
  created_at timestamp with time zone
);                                                                                                                                                                                                                        |
| CREATE TABLE colors (
  hex_code character varying,
  name character varying,
  code character varying,
  id uuid,
  company_id uuid,
  sort_order integer,
  is_active boolean,
  created_at timestamp with time zone,
  created_by uuid
);                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| CREATE TABLE companies (
  name character varying,
  settings jsonb,
  is_active boolean,
  created_by uuid,
  updated_at timestamp with time zone,
  created_at timestamp with time zone,
  fiscal_year_start_month integer,
  id uuid,
  base_currency character varying,
  logo_url text,
  email character varying,
  phone character varying,
  address text,
  tax_id character varying,
  code character varying
);                                                                                                                                                                                                                                                                   |
| CREATE TABLE customer_ar_balance_vw (
  available_credit numeric,
  customer_id uuid,
  company_id uuid,
  credit_limit numeric,
  invoice_count bigint,
  overdue_amount numeric,
  total_ar_balance numeric,
  total_invoiced numeric,
  total_paid numeric,
  customer_name character varying
);                                                                                                                                                                                                                                                                                                                                                                                          |
| CREATE TABLE customer_credit_hold_history (
  action character varying,
  id uuid,
  customer_id uuid,
  previous_credit_hold boolean,
  new_credit_hold boolean,
  created_at timestamp with time zone,
  created_by uuid,
  reason text
);                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| CREATE TABLE customer_credit_limit_history (
  new_limit numeric,
  created_at timestamp with time zone,
  created_by uuid,
  customer_id uuid,
  id uuid,
  reason text,
  previous_limit numeric
);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| CREATE TABLE customer_credit_status_vw (
  customer_name character varying,
  customer_id uuid,
  company_id uuid,
  credit_limit numeric,
  credit_hold boolean,
  default_payment_terms USER-DEFINED,
  current_ar_balance numeric,
  pending_so_amount numeric,
  available_credit numeric,
  credit_status text
);                                                                                                                                                                                                                                                                                                                                                                       |
| CREATE TABLE customer_price_lists (
  customer_id uuid,
  product_variant_id uuid,
  unit_price numeric,
  effective_from date,
  effective_to date,
  is_active boolean,
  created_at timestamp with time zone,
  created_by uuid,
  id uuid,
  company_id uuid
);                                                                                                                                                                                                                                                                                                                                                                                                                          |
| CREATE TABLE customers (
  notes text,
  credit_hold boolean,
  created_by uuid,
  tax_id character varying,
  discount_percentage numeric,
  updated_at timestamp with time zone,
  city character varying,
  address text,
  phone character varying,
  email character varying,
  name character varying,
  contact_person character varying,
  id uuid,
  code character varying,
  status USER-DEFINED,
  created_at timestamp with time zone,
  credit_limit numeric,
  company_id uuid,
  custom_payment_days integer,
  payment_terms USER-DEFINED,
  customer_type character varying
);                                                                                             |
| CREATE TABLE daily_pos_sales_vw (
  company_id uuid,
  warehouse_name character varying,
  non_cash_transactions bigint,
  cash_transactions bigint,
  total_tax numeric,
  total_discounts numeric,
  gross_sales numeric,
  total_sales numeric,
  transaction_count bigint,
  warehouse_id uuid,
  sale_date date
);                                                                                                                                                                                                                                                                                                                                                                      |
| CREATE TABLE delivery_note_lines (
  do_id uuid,
  id uuid,
  line_number integer,
  notes text,
  qty_delivered numeric,
  product_variant_id uuid,
  so_line_id uuid
);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CREATE TABLE delivery_note_summary_vw (
  so_number character varying,
  total_qty_delivered numeric,
  line_count bigint,
  received_at timestamp with time zone,
  warehouse_id uuid,
  customer_id uuid,
  so_id uuid,
  do_date date,
  company_id uuid,
  id uuid,
  status character varying,
  delivered_by character varying,
  received_by character varying,
  warehouse_name character varying,
  customer_name character varying,
  do_number character varying
);                                                                                                                                                                                                               |
| CREATE TABLE delivery_notes (
  delivered_by character varying,
  delivery_address text,
  notes text,
  confirmed_by uuid,
  confirmed_at timestamp with time zone,
  created_by uuid,
  do_number character varying,
  received_by character varying,
  vehicle_number character varying,
  created_at timestamp with time zone,
  received_at timestamp with time zone,
  period_id uuid,
  warehouse_id uuid,
  customer_id uuid,
  so_id uuid,
  do_date date,
  company_id uuid,
  id uuid,
  status character varying
);                                                                                                                                                              |
| CREATE TABLE financial_report_structure (
  company_id uuid,
  id uuid,
  section_code character varying,
  section_name character varying,
  parent_section_id uuid,
  report_type character varying,
  created_at timestamp with time zone,
  account_type_filter character varying,
  account_category_filter character varying,
  display_order integer
);                                                                                                                                                                                                                                                                                                                               |
| CREATE TABLE finished_goods_ledger (
  id uuid,
  warehouse_id uuid,
  bin_id uuid,
  period_id uuid,
  transaction_date date,
  transaction_type USER-DEFINED,
  reference_type USER-DEFINED,
  reference_number character varying,
  created_by uuid,
  created_at timestamp with time zone,
  total_cost numeric,
  unit_cost numeric,
  qty_out numeric,
  qty_in numeric,
  reference_id uuid,
  notes text,
  company_id uuid,
  product_variant_id uuid,
  is_posted boolean
);                                                                                                                                                                                                       |
| CREATE TABLE goods_receipt_notes (
  vehicle_number character varying,
  id uuid,
  company_id uuid,
  grn_date date,
  po_id uuid,
  vendor_id uuid,
  warehouse_id uuid,
  period_id uuid,
  status USER-DEFINED,
  created_at timestamp with time zone,
  created_by uuid,
  posted_at timestamp with time zone,
  posted_by uuid,
  grn_number character varying,
  delivery_note_number character varying,
  notes text
);                                                                                                                                                                                                                                                              |
| CREATE TABLE grn_lines (
  id uuid,
  notes text,
  qty_rejected numeric,
  qty_accepted numeric,
  line_total numeric,
  unit_cost numeric,
  qty_received numeric,
  bin_id uuid,
  material_id uuid,
  po_line_id uuid,
  grn_id uuid
);                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| CREATE TABLE internal_transfer_lines (
  notes text,
  unit_cost numeric,
  qty numeric,
  product_variant_id uuid,
  id uuid,
  material_id uuid,
  transfer_id uuid
);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| CREATE TABLE internal_transfers (
  company_id uuid,
  from_bin_id uuid,
  from_warehouse_id uuid,
  created_at timestamp with time zone,
  transfer_number character varying,
  created_by uuid,
  period_id uuid,
  transfer_date date,
  notes text,
  posted_by uuid,
  posted_at timestamp with time zone,
  status USER-DEFINED,
  to_bin_id uuid,
  to_warehouse_id uuid,
  id uuid
);                                                                                                                                                                                                                                                                                                |
| CREATE TABLE inventory_adjustment_lines (
  material_id uuid,
  notes text,
  id uuid,
  adjustment_id uuid,
  product_variant_id uuid,
  bin_id uuid,
  qty numeric,
  unit_cost numeric,
  total_value numeric,
  reason_code USER-DEFINED
);                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| CREATE TABLE inventory_adjustments (
  id uuid,
  status USER-DEFINED,
  requires_approval boolean,
  approved_by uuid,
  approved_at timestamp with time zone,
  posted_at timestamp with time zone,
  posted_by uuid,
  created_at timestamp with time zone,
  created_by uuid,
  adjustment_type character varying,
  adjustment_number character varying,
  reference_type character varying,
  reference_id uuid,
  reason USER-DEFINED,
  period_id uuid,
  warehouse_id uuid,
  adjustment_date date,
  company_id uuid,
  notes text
);                                                                                                                                              |
| CREATE TABLE journal_lines (
  department_id uuid,
  project_id uuid,
  description text,
  credit numeric,
  debit numeric,
  account_id uuid,
  journal_id uuid,
  id uuid,
  created_at timestamp with time zone
);                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| CREATE TABLE journals (
  description text,
  reference_type character varying,
  journal_number character varying,
  updated_at timestamp with time zone,
  id uuid,
  company_id uuid,
  period_id uuid,
  reference_id uuid,
  journal_date date,
  posted_by uuid,
  posted_at timestamp with time zone,
  created_by uuid,
  created_at timestamp with time zone,
  reference_number character varying,
  status character varying
);                                                                                                                                                                                                                                                   |
| CREATE TABLE marketplace_accounts (
  id uuid,
  warehouse_id uuid,
  created_at timestamp with time zone,
  refresh_token text,
  access_token text,
  api_secret text,
  api_key text,
  shop_id character varying,
  account_name character varying,
  token_expiry timestamp with time zone,
  is_active boolean,
  auto_sync_orders boolean,
  platform USER-DEFINED,
  company_id uuid,
  auto_sync_inventory boolean,
  created_by uuid,
  updated_at timestamp with time zone
);                                                                                                                                                                                                     |
| CREATE TABLE marketplace_order_items (
  id uuid,
  external_item_id character varying,
  deal_price numeric,
  product_variant_id uuid,
  original_price numeric,
  quantity integer,
  order_id uuid,
  product_name character varying,
  sku character varying,
  created_at timestamp with time zone
);                                                                                                                                                                                                                                                                                                                                                                                  |
| CREATE TABLE marketplace_orders (
  total_amount numeric,
  mapped_status USER-DEFINED,
  account_id uuid,
  company_id uuid,
  id uuid,
  sync_error text,
  currency character varying,
  customer_name character varying,
  external_status character varying,
  external_order_id character varying,
  updated_at timestamp with time zone,
  created_at timestamp with time zone,
  sync_status USER-DEFINED,
  so_id uuid,
  seller_rebate numeric,
  commission_fee numeric,
  platform_fee numeric,
  shipping_fee numeric,
  order_date timestamp with time zone
);                                                                                                                 |
| CREATE TABLE marketplace_settlements (
  payout_date date,
  amount_gross numeric,
  amount_fees numeric,
  notes text,
  id uuid,
  account_id uuid,
  created_by uuid,
  created_at timestamp with time zone,
  start_date date,
  company_id uuid,
  amount_net numeric,
  settlement_ref character varying,
  status character varying,
  end_date date
);                                                                                                                                                                                                                                                                                                                               |
| CREATE TABLE material_categories (
  company_id uuid,
  description text,
  name character varying,
  code character varying,
  created_by uuid,
  created_at timestamp with time zone,
  is_active boolean,
  id uuid
);                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CREATE TABLE materials (
  lead_time_days integer,
  created_by uuid,
  notes text,
  supplier_code character varying,
  created_at timestamp with time zone,
  id uuid,
  updated_at timestamp with time zone,
  company_id uuid,
  category_id uuid,
  description text,
  code character varying,
  name character varying,
  unit_of_measure USER-DEFINED,
  standard_cost numeric,
  reorder_level numeric,
  status USER-DEFINED
);                                                                                                                                                                                                                                                    |
| CREATE TABLE outstanding_po_vw (
  material_code character varying,
  value_outstanding numeric,
  unit_price numeric,
  qty_outstanding numeric,
  material_id uuid,
  po_date date,
  company_id uuid,
  id uuid,
  material_name character varying,
  vendor_name character varying,
  vendor_code character varying,
  po_number character varying
);                                                                                                                                                                                                                                                                                                                                    |
| CREATE TABLE outstanding_sales_orders_vw (
  total_qty_pending numeric,
  so_date date,
  customer_name character varying,
  company_id uuid,
  id uuid,
  status character varying,
  delivery_date date,
  total_amount numeric,
  warehouse_id uuid,
  customer_id uuid,
  total_qty_delivered numeric,
  total_qty_ordered numeric,
  line_count bigint,
  so_number character varying,
  warehouse_name character varying
);                                                                                                                                                                                                                                                            |
| CREATE TABLE overdue_invoices_vw (
  total_amount numeric,
  invoice_number character varying,
  customer_name character varying,
  priority text,
  days_overdue integer,
  amount_due numeric,
  customer_id uuid,
  due_date date,
  invoice_date date,
  invoice_id uuid,
  company_id uuid
);                                                                                                                                                                                                                                                                                                                                                                                           |
| CREATE TABLE payment_allocation_details_vw (
  invoice_remaining numeric,
  due_date date,
  invoice_date date,
  invoice_id uuid,
  payment_date date,
  payment_id uuid,
  payment_number character varying,
  created_at timestamp with time zone,
  invoice_number character varying,
  customer_name character varying,
  customer_id uuid,
  id uuid,
  invoice_total numeric,
  amount_allocated numeric
);                                                                                                                                                                                                                                                                           |
| CREATE TABLE payment_allocations (
  payment_id uuid,
  id uuid,
  created_at timestamp with time zone,
  notes text,
  amount_allocated numeric,
  invoice_id uuid
);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| CREATE TABLE payment_summary_vw (
  vendor_code character varying,
  company_id uuid,
  payment_date date,
  payment_method USER-DEFINED,
  total_amount numeric,
  amount_allocated numeric,
  payment_number character varying,
  vendor_name character varying,
  amount_unallocated numeric,
  id uuid,
  invoice_count bigint
);                                                                                                                                                                                                                                                                                                                                                        |
| CREATE TABLE pending_deliveries_vw (
  sku character varying,
  so_line_id uuid,
  so_id uuid,
  delivery_date date,
  qty_pending numeric,
  qty_delivered numeric,
  product_name character varying,
  qty_ordered numeric,
  product_variant_id uuid,
  delivery_address text,
  customer_id uuid,
  customer_name character varying,
  so_number character varying,
  so_date date
);                                                                                                                                                                                                                                                                                                    |
| CREATE TABLE period_closing_logs (
  company_id uuid,
  step_name character varying,
  status character varying,
  message text,
  id uuid,
  created_at timestamp with time zone,
  created_by uuid,
  period_id uuid
);                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CREATE TABLE pos_return_rate_vw (
  total_sales numeric,
  return_count bigint,
  return_rate_pct numeric,
  total_returns numeric,
  company_id uuid,
  txn_date date,
  sale_count bigint
);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| CREATE TABLE pos_return_summary_vw (
  warehouse_name character varying,
  company_id uuid,
  return_date date,
  warehouse_id uuid,
  return_count bigint,
  total_refunded numeric,
  resellable_items bigint,
  damaged_items bigint,
  return_reason character varying
);                                                                                                                                                                                                                                                                                                                                                                                                                |
| CREATE TABLE product_categories (
  is_active boolean,
  created_at timestamp with time zone,
  created_by uuid,
  description text,
  name character varying,
  id uuid,
  company_id uuid
);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| CREATE TABLE product_variants (
  id uuid,
  created_at timestamp with time zone,
  updated_at timestamp with time zone,
  created_by uuid,
  status USER-DEFINED,
  sku character varying,
  barcode character varying,
  unit_cost numeric,
  image_url text,
  unit_price numeric,
  color_id uuid,
  size_id uuid,
  product_id uuid,
  company_id uuid
);                                                                                                                                                                                                                                                                                                                               |
| CREATE TABLE production_cost_detail_vw (
  cost_per_unit numeric,
  production_order_id uuid,
  qty_planned numeric,
  qty_completed numeric,
  material_cost_cut numeric,
  material_cost_sew numeric,
  material_cost_finish numeric,
  labor_cost_cut numeric,
  labor_cost_sew numeric,
  labor_cost_finish numeric,
  total_material_cost numeric,
  total_labor_cost numeric,
  total_overhead_cost numeric,
  total_actual_cost numeric,
  standard_cost numeric,
  cost_variance numeric,
  product_code character varying,
  po_number character varying
);                                                                                                                         |
| CREATE TABLE production_order_summary_vw (
  actual_cost numeric,
  po_number character varying,
  product_code character varying,
  product_name character varying,
  id uuid,
  qty_planned numeric,
  po_date date,
  company_id uuid,
  status USER-DEFINED,
  qty_outstanding numeric,
  priority integer,
  material_count bigint,
  qty_rejected numeric,
  qty_completed numeric,
  cost_variance numeric,
  due_date date,
  standard_cost numeric,
  materials_pending bigint
);                                                                                                                                                                                                   |
| CREATE TABLE production_orders (
  warehouse_id uuid,
  company_id uuid,
  status USER-DEFINED,
  priority integer,
  standard_cost numeric,
  actual_cost numeric,
  cost_variance numeric,
  created_at timestamp with time zone,
  due_date date,
  qty_completed numeric,
  qty_planned numeric,
  period_id uuid,
  po_number character varying,
  created_by uuid,
  notes text,
  updated_at timestamp with time zone,
  released_at timestamp with time zone,
  released_by uuid,
  qty_rejected numeric,
  qty_outstanding numeric,
  start_date date,
  id uuid,
  completion_date date,
  bom_id uuid,
  product_id uuid,
  po_date date
);                                       |
| CREATE TABLE production_reservations (
  material_id uuid,
  created_at timestamp with time zone,
  unit_cost numeric,
  qty_outstanding numeric,
  qty_issued numeric,
  qty_required numeric,
  stage USER-DEFINED,
  production_order_id uuid,
  id uuid
);                                                                                                                                                                                                                                                                                                                                                                                                                               |
| CREATE TABLE products (
  description text,
  category character varying,
  notes text,
  id uuid,
  company_id uuid,
  unit_of_measure USER-DEFINED,
  standard_cost numeric,
  selling_price numeric,
  status USER-DEFINED,
  created_at timestamp with time zone,
  updated_at timestamp with time zone,
  created_by uuid,
  code character varying,
  name character varying,
  image_url text,
  barcode character varying
);                                                                                                                                                                                                                                                         |
| CREATE TABLE purchase_order_lines (
  notes text,
  qty_invoiced numeric,
  po_id uuid,
  id uuid,
  qty_received numeric,
  qty_ordered numeric,
  material_id uuid,
  line_total numeric,
  line_number integer,
  unit_price numeric,
  description text,
  qty_outstanding numeric
);                                                                                                                                                                                                                                                                                                                                                                                                    |
| CREATE TABLE purchase_orders (
  company_id uuid,
  vendor_id uuid,
  warehouse_id uuid,
  period_id uuid,
  exchange_rate numeric,
  subtotal numeric,
  id uuid,
  tax_amount numeric,
  po_number character varying,
  total_amount numeric,
  status USER-DEFINED,
  delivery_date date,
  payment_terms USER-DEFINED,
  custom_payment_days integer,
  created_at timestamp with time zone,
  created_by uuid,
  submitted_at timestamp with time zone,
  submitted_by uuid,
  approved_at timestamp with time zone,
  approved_by uuid,
  closed_at timestamp with time zone,
  closed_by uuid,
  currency character varying,
  delivery_address text,
  notes text,
  po_date date
); |
| CREATE TABLE raw_material_ledger (
  warehouse_id uuid,
  bin_id uuid,
  period_id uuid,
  qty_in numeric,
  created_by uuid,
  qty_out numeric,
  created_at timestamp with time zone,
  unit_cost numeric,
  total_cost numeric,
  id uuid,
  reference_number character varying,
  company_id uuid,
  notes text,
  transaction_date date,
  is_posted boolean,
  transaction_type USER-DEFINED,
  reference_type USER-DEFINED,
  reference_id uuid,
  material_id uuid
);                                                                                                                                                                                                                |
| CREATE TABLE sales_invoice_lines (
  id uuid,
  unit_price numeric,
  discount_percentage numeric,
  notes text,
  line_total numeric,
  qty_invoiced numeric,
  invoice_id uuid,
  line_number integer,
  so_line_id uuid,
  do_line_id uuid,
  product_variant_id uuid
);                                                                                                                                                                                                                                                                                                                                                                                                                  |
| CREATE TABLE sales_invoice_summary_vw (
  due_date date,
  payment_status character varying,
  invoice_date date,
  company_id uuid,
  id uuid,
  do_number character varying,
  amount_paid numeric,
  total_amount numeric,
  amount_due numeric,
  customer_name character varying,
  line_count bigint,
  do_id uuid,
  total_qty numeric,
  status character varying,
  payment_terms character varying,
  invoice_number character varying,
  so_number character varying,
  so_id uuid,
  customer_id uuid
);                                                                                                                                                                         |
| CREATE TABLE sales_invoices (
  notes text,
  customer_id uuid,
  do_id uuid,
  so_id uuid,
  invoice_number character varying,
  due_date date,
  invoice_date date,
  company_id uuid,
  id uuid,
  payment_status character varying,
  period_id uuid,
  subtotal numeric,
  discount_amount numeric,
  tax_amount numeric,
  total_amount numeric,
  payment_terms character varying,
  status character varying,
  amount_paid numeric,
  amount_due numeric,
  created_at timestamp with time zone,
  created_by uuid,
  posted_at timestamp with time zone,
  posted_by uuid
);                                                                                                       |
| CREATE TABLE sales_order_lines (
  qty_ordered numeric,
  notes text,
  line_total numeric,
  discount_percentage numeric,
  unit_price numeric,
  qty_invoiced numeric,
  qty_delivered numeric,
  product_variant_id uuid,
  line_number integer,
  so_id uuid,
  id uuid
);                                                                                                                                                                                                                                                                                                                                                                                                               |
| CREATE TABLE sales_order_summary_vw (
  id uuid,
  status character varying,
  payment_terms character varying,
  delivery_status text,
  so_date date,
  company_id uuid,
  so_number character varying,
  customer_name character varying,
  approved_at timestamp with time zone,
  line_count bigint,
  customer_id uuid,
  created_at timestamp with time zone,
  total_amount numeric,
  due_date date,
  credit_limit numeric,
  total_qty numeric
);                                                                                                                                                                                                                                 |
| CREATE TABLE sales_orders (
  company_id uuid,
  so_date date,
  customer_id uuid,
  warehouse_id uuid,
  period_id uuid,
  so_number character varying,
  payment_terms character varying,
  status character varying,
  delivery_address text,
  notes text,
  approved_by uuid,
  approved_at timestamp with time zone,
  created_by uuid,
  created_at timestamp with time zone,
  delivery_date date,
  due_date date,
  total_amount numeric,
  tax_amount numeric,
  discount_amount numeric,
  subtotal numeric,
  id uuid
);                                                                                                                                                        |
| CREATE TABLE sales_pos (
  company_id uuid,
  posted_at timestamp with time zone,
  total_amount numeric,
  posted_by uuid,
  payment_method USER-DEFINED,
  amount_tendered numeric,
  change_amount numeric,
  created_by uuid,
  created_at timestamp with time zone,
  status character varying,
  pos_number character varying,
  notes text,
  payment_reference character varying,
  tax_amount numeric,
  discount_amount numeric,
  subtotal numeric,
  warehouse_id uuid,
  period_id uuid,
  customer_id uuid,
  sale_date date,
  id uuid
);                                                                                                                                     |
| CREATE TABLE sales_pos_lines (
  id uuid,
  unit_price numeric,
  line_number integer,
  notes text,
  product_variant_id uuid,
  discount_percentage numeric,
  line_total numeric,
  pos_id uuid,
  qty numeric
);                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| CREATE TABLE sales_pos_return_lines (
  line_total numeric,
  unit_price numeric,
  original_line_id uuid,
  return_reason character varying,
  line_number integer,
  condition character varying,
  qty_returned numeric,
  notes text,
  return_id uuid,
  product_variant_id uuid,
  id uuid
);                                                                                                                                                                                                                                                                                                                                                                                          |
| CREATE TABLE sales_pos_returns (
  tax_amount numeric,
  approved_at timestamp with time zone,
  created_by uuid,
  created_at timestamp with time zone,
  refund_amount numeric,
  refund_method USER-DEFINED,
  total_amount numeric,
  subtotal numeric,
  period_id uuid,
  warehouse_id uuid,
  customer_id uuid,
  original_pos_id uuid,
  return_date date,
  company_id uuid,
  id uuid,
  return_number character varying,
  approved_by uuid,
  posted_at timestamp with time zone,
  posted_by uuid,
  refund_reference character varying,
  return_reason character varying,
  status character varying,
  notes text
);                                                         |
| CREATE TABLE sizes (
  created_at timestamp with time zone,
  sort_order integer,
  company_id uuid,
  code character varying,
  is_active boolean,
  created_by uuid,
  name character varying,
  id uuid
);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| CREATE TABLE stock_opname (
  period_id uuid,
  status USER-DEFINED,
  created_at timestamp with time zone,
  notes text,
  warehouse_id uuid,
  created_by uuid,
  completed_at timestamp with time zone,
  completed_by uuid,
  opname_date date,
  company_id uuid,
  posted_at timestamp with time zone,
  posted_by uuid,
  id uuid,
  opname_number character varying
);                                                                                                                                                                                                                                                                                                               |
| CREATE TABLE stock_opname_lines (
  bin_id uuid,
  system_unit_cost numeric,
  variance_qty numeric,
  material_id uuid,
  physical_value numeric,
  variance_value numeric,
  counted_at timestamp with time zone,
  reason_code USER-DEFINED,
  counted_by uuid,
  opname_id uuid,
  notes text,
  physical_qty numeric,
  product_variant_id uuid,
  id uuid,
  system_qty numeric,
  system_value numeric
);                                                                                                                                                                                                                                                                             |
| CREATE TABLE system_account_mappings (
  mapping_code character varying,
  id uuid,
  company_id uuid,
  description text,
  account_id uuid,
  created_at timestamp with time zone,
  updated_at timestamp with time zone
);                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| CREATE TABLE unallocated_payments_vw (
  id uuid,
  company_id uuid,
  payment_number character varying,
  payment_date date,
  customer_id uuid,
  amount_allocated numeric,
  days_unallocated integer,
  amount_unallocated numeric,
  customer_name character varying,
  payment_method character varying,
  amount_received numeric
);                                                                                                                                                                                                                                                                                                                                                  |
| CREATE TABLE user_company_mapping (
  role character varying,
  user_id uuid,
  company_id uuid,
  id uuid,
  created_at timestamp with time zone,
  is_active boolean
);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CREATE TABLE vendor_invoice_lines (
  material_id uuid,
  id uuid,
  grn_line_id uuid,
  po_line_id uuid,
  variance_approved boolean,
  qty_invoiced numeric,
  unit_price numeric,
  invoice_id uuid,
  line_total numeric,
  po_unit_price numeric,
  notes text,
  price_variance numeric
);                                                                                                                                                                                                                                                                                                                                                                                             |
| CREATE TABLE vendor_invoices (
  posted_by uuid,
  created_by uuid,
  created_at timestamp with time zone,
  notes text,
  payment_terms USER-DEFINED,
  status USER-DEFINED,
  amount_outstanding numeric,
  amount_paid numeric,
  total_amount numeric,
  tax_amount numeric,
  subtotal numeric,
  exchange_rate numeric,
  period_id uuid,
  po_id uuid,
  vendor_id uuid,
  due_date date,
  invoice_date date,
  company_id uuid,
  id uuid,
  currency character varying,
  invoice_number character varying,
  posted_at timestamp with time zone
);                                                                                                                                |
| CREATE TABLE vendor_payments (
  created_by uuid,
  created_at timestamp with time zone,
  id uuid,
  status USER-DEFINED,
  notes text,
  total_amount numeric,
  bank_account_id uuid,
  reference_number character varying,
  payment_method USER-DEFINED,
  payment_number character varying,
  period_id uuid,
  vendor_id uuid,
  payment_date date,
  cleared_at timestamp with time zone,
  posted_by uuid,
  posted_at timestamp with time zone,
  company_id uuid,
  cleared_by uuid
);                                                                                                                                                                                            |
| CREATE TABLE vendors (
  created_by uuid,
  id uuid,
  updated_at timestamp with time zone,
  created_at timestamp with time zone,
  status USER-DEFINED,
  credit_limit numeric,
  company_id uuid,
  custom_payment_days integer,
  payment_terms USER-DEFINED,
  notes text,
  tax_id character varying,
  city character varying,
  address text,
  phone character varying,
  email character varying,
  contact_person character varying,
  name character varying,
  code character varying
);                                                                                                                                                                                        |
| CREATE TABLE warehouses (
  name character varying,
  code character varying,
  address text,
  city character varying,
  manager_name character varying,
  phone character varying,
  created_by uuid,
  created_at timestamp with time zone,
  is_active boolean,
  company_id uuid,
  id uuid
);                                                                                                                                                                                                                                                                                                                                                                                          |
| CREATE TABLE wip_ledger (
  transaction_type USER-DEFINED,
  stage USER-DEFINED,
  transaction_date date,
  period_id uuid,
  warehouse_id uuid,
  product_id uuid,
  production_order_id uuid,
  company_id uuid,
  id uuid,
  notes text,
  is_posted boolean,
  created_by uuid,
  created_at timestamp with time zone,
  total_cost numeric,
  unit_cost numeric,
  cost_overhead numeric,
  cost_labor numeric,
  cost_material numeric,
  qty_out numeric,
  qty_in numeric,
  reference_number character varying,
  reference_id uuid,
  reference_type USER-DEFINED
);                                                                                                               |
| CREATE TABLE work_order_summary_vw (
  id uuid,
  company_id uuid,
  stage USER-DEFINED,
  operator_email character varying,
  product_name character varying,
  product_code character varying,
  production_order character varying,
  wo_number character varying,
  qty_started numeric,
  total_labor_cost numeric,
  total_hours numeric,
  status USER-DEFINED,
  qty_outstanding numeric,
  qty_rejected numeric,
  qty_completed numeric
);                                                                                                                                                                                                                                         |
| CREATE TABLE work_order_time_entries (
  start_time timestamp with time zone,
  operator_id uuid,
  work_order_id uuid,
  id uuid,
  notes text,
  end_time timestamp with time zone,
  duration_minutes integer,
  labor_rate numeric,
  labor_cost numeric,
  created_at timestamp with time zone
);                                                                                                                                                                                                                                                                                                                                                                                       |
| CREATE TABLE work_orders (
  wo_number character varying,
  production_order_id uuid,
  company_id uuid,
  id uuid,
  notes text,
  stage USER-DEFINED,
  qty_outstanding numeric,
  qty_rejected numeric,
  qty_completed numeric,
  qty_started numeric,
  created_by uuid,
  created_at timestamp with time zone,
  status USER-DEFINED,
  operator_id uuid,
  end_datetime timestamp with time zone,
  start_datetime timestamp with time zone
);                                                                                                                                                                                                                                        |